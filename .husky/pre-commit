#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

if [ "$ALLOW_EMPTY_COMMIT" = "1" ]; then
  npx lint-staged --allow-empty
else
  npx lint-staged
fi

# Check for large files in staged changes (BLOCKS commit if new code violates Quality Gate)
node scripts/ci/check-large-files.cjs

# Check if schema.md needs updating after migration changes
node scripts/ci/check-schema-sync.cjs
