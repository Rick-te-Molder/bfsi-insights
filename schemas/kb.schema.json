{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://bfsiinsights.com/schemas/kb.schema.json",
  "title": "BFSI Insights Resource Schema",
  "description": "Canonical schema for BFSI knowledge base resources. This is the single source of truth - resource-schema.mjs (Zod) is derived from this file. Used by build-resources.mjs for strict validation during build.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "url": { "type": "string", "format": "uri" },
    "title": { "type": "string" },
    "slug": { "type": "string", "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$" },
    "authors": { "type": "array", "items": { "type": "string" } },
    "source_name": { "type": "string" },
    "source_domain": { "type": "string" },
    "thumbnail": { "type": "string" },
    "date_published": { "type": "string", "format": "date" },
    "date_added": { "type": "string", "format": "date-time" },
    "last_edited": { "type": "string", "format": "date-time" },
    "role": { "type": "string", "enum": ["executive", "professional", "researcher"] },
    "industry": {
      "type": "string",
      "description": "Industry code from bfsi_industry table"
    },
    "topic": {
      "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }],
      "description": "Topic code(s) from bfsi_topic table - can be string or array"
    },
    "use_cases": {
      "type": "string",
      "enum": [
        "customer-onboarding",
        "identity-verification",
        "document-processing",
        "transaction-monitoring",
        "credit-assessment",
        "fraud-detection",
        "claims-handling",
        "portfolio-analytics",
        "regulatory-reporting",
        "audit-support"
      ]
    },
    "agentic_capabilities": {
      "type": "string",
      "enum": [
        "reasoning",
        "planning",
        "memory",
        "tool-use",
        "collaboration",
        "autonomy",
        "evaluation",
        "monitoring"
      ]
    },
    "content_type": {
      "type": "string",
      "enum": [
        "report",
        "white-paper",
        "peer-reviewed-paper",
        "article",
        "presentation",
        "webinar",
        "dataset",
        "website",
        "policy-document"
      ]
    },
    "geography": { "type": "string", "enum": ["eu", "uk", "us", "nl", "global", "other"] },
    "note": { "type": "string" },
    "summary_short": { "type": "string", "minLength": 120, "maxLength": 240 },
    "summary_medium": { "type": "string", "minLength": 240, "maxLength": 480 },
    "summary_long": { "type": "string", "minLength": 640, "maxLength": 1120 },
    "id": { "type": "string", "pattern": "^[a-f0-9]{40}$" }
  },
  "required": [
    "url",
    "role",
    "industry",
    "topic",
    "use_cases",
    "agentic_capabilities",
    "content_type",
    "geography"
  ]
}
